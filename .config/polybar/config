[global/wm]
margin-top = 5
margin-bottom = 5

[colors]
background = ${xrdb:background}
foreground = ${xrdb:foreground}
warning = ${xrdb:polybar.warning}

[bar/top]
width = 100%
height = 18
padding-left = 2
padding-right = 2
module-margin-left = 1
module-margin-right = 1
background = ${colors.background}
foreground = ${colors.foreground}

; fonts
font-0 = ProggyCleanTTSZ:size=12;3
font-1 = WunconSiji:pixelsize=12;2

; modules
modules-left = keyboard updates i3-mode
modules-center = i3-ws
modules-right = volume net battery date

[module/i3-ws]
type = internal/i3
format = <label-state>
index-sort = true
label-focused = %index%
label-focused-background = ${colors.background}
label-focused-foreground = ${colors.foreground}
label-focused-padding = 1
label-unfocused = %index%
label-unfocused-foreground = ${xrdb:i3wm.inactive}
label-unfocused-padding = 1
label-urgent = %index%
label-urgent-foreground = ${xrdb:i3wm.urgent}
label-urgent-padding = 1

[module/i3-mode]
type = internal/i3
format = <label-state><label-mode>
label-mode-foreground = ${colors.warning}
; BUG: for some reason not also including label-state crashes
; polybar. we need to add one that shows nothing
label-focused =
label-focused-padding = 0
label-unfocused = 
label-unfocused-padding = 0
label-urgent =
label-urgent-padding = 0

[module/updates]
type = custom/script
exec = ~/.config/polybar/scripts/updates
interval = 150
format = %{F#7af}%{F-} <label>
label = %output%

[module/keyboard]
type = internal/xkeyboard
format = %{F#eeb}%{F-} <label-layout>

[module/volume]
type = custom/script
exec = ~/.config/polybar/scripts/volume
tail = true
format = <label>
label = %output%

[module/net]
type = custom/script
exec = ~/.config/polybar/scripts/net
tail = true
format = <label>
label = %output%

[module/battery]
type = custom/script
exec = ~/.config/polybar/scripts/battery
tail = true
format = <label>
label = %output%

[module/date]
type = internal/date
interval = 5
date = %{F#cba5ef}%{F#ff} %H:%M
